import sqlite3

# Использование with для автоматического закрытия соединения
with sqlite3.connect('mydatabase.db') as conn:
    cursor = conn.cursor()
    print("Соединение с базой данных успешно установлено (через with).")
    # Здесь можно выполнять операции с БД

print("Соединение с базой данных автоматически закрыто.")